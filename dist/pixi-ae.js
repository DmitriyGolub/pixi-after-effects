!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=12)}([function(t,e){t.exports=PIXI},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(r(0)),h=o(r(5)),u=r(4),c=o(r(6)),f=o(r(7)),l=o(r(8)),p=2,m=4,d=function(t){function e(r){var i=t.call(this)||this;return i.finder=new c.default,r?(i.name=r.nm,i.referenceId=r.refId,i.type=r.ty,i.isCompleted=r.completed,i.index=r.ind,i.hasParent=Object.prototype.hasOwnProperty.call(r,"parent"),i.parentIndex=r.parent,i.inFrame=r.ip,i.outFrame=r.op,i.stretch=r.sr||1,i.startTime=r.st,i.hasMask=r.hasMask,i.setupProperties(r.ks),i.blendMode=e.toPIXIBlendMode(r.bm),r.bmPIXI&&(i.blendMode=r.bmPIXI),r.tt?(i.hasTrackMatteType=!0,i.trackMatteType=r.tt):r.td&&(i.isTrackMatteData=!0),i.player=new f.default(0,0,i.outFrame,function(t){i.updateWithFrameBySelfPlayer(t)},function(){i.emit("completed",i)}),i.deltaPlayer=new l.default(0,0,i.outFrame,function(t){i.updateWithFrameBySelfPlayer(t)},function(){i.emit("completed",i)}),r.masksProperties&&(i.masksProperties=r.masksProperties),r.events&&Object.keys(r.events).forEach(function(t){i.isInteractiveEvent(t)&&(i.interactive=!0),i.on(t,r.events[t])}),i):i}return n(e,t),e.toPIXIBlendMode=function(t){switch(t){case 0:return s.BLEND_MODES.NORMAL;case 1:return s.BLEND_MODES.MULTIPLY;case 2:return s.BLEND_MODES.SCREEN;case 3:return s.BLEND_MODES.OVERLAY;case 4:return s.BLEND_MODES.DARKEN;case 5:return s.BLEND_MODES.LIGHTEN;case 6:return s.BLEND_MODES.COLOR_DODGE;case 7:return s.BLEND_MODES.COLOR_BURN;case 8:return s.BLEND_MODES.HARD_LIGHT;case 9:return s.BLEND_MODES.SOFT_LIGHT;case 10:return s.BLEND_MODES.DIFFERENCE;case 11:return s.BLEND_MODES.EXCLUSION;case 12:return s.BLEND_MODES.HUE;case 13:return s.BLEND_MODES.SATURATION;case 14:return s.BLEND_MODES.COLOR;case 15:return s.BLEND_MODES.LUMINOSITY}return s.BLEND_MODES.NORMAL},e.prototype.__root=function(t){return t instanceof u.AfterEffects?t:t.parent?this.__root(t.parent):null},e.prototype.root=function(){return this.__root(this)},e.prototype.addChild=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.prototype.addChild.apply(this,e);return this.isInvertedMask&&e.forEach(function(t){t.isInvertedMask=!0}),i},e.prototype.isInvertTrackMatteType=function(){return this.trackMatteType===p||this.trackMatteType===m},Object.defineProperty(e.prototype,"frameRate",{set:function(t){this.player&&(this.player.frameRate=t),this.deltaPlayer&&(this.deltaPlayer.frameRate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opt",{set:function(t){var e=this;Object.keys(t).forEach(function(r){e[r]=t[r]})},enumerable:!0,configurable:!0}),e.prototype.isInteractiveEvent=function(t){var e=this;if(!this.interactiveEventMap){this.interactiveEventMap={},["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","pointercancel","pointerdown","pointermove","pointerout","pointerover","pointertap","pointerup","pointerupoutside","removed","rightclick","rightdown","rightup","rightupoutside","tap","touchcancel","touchend","touchendoutside","touchmove","touchstart"].forEach(function(t){e.interactiveEventMap[t]=!0})}return this.interactiveEventMap[t]},e.prototype.find=function(t){return this.finder.findByName(t,this)},e.prototype.isCompType=function(){return 0===this.type},e.prototype.isImageType=function(){return 2===this.type},e.prototype.setupProperties=function(t){t&&(this.setupPosition(t.p),this.setupAnchorPoint(t.a),this.setupOpacity(t.o),this.setupRotation(t.r),this.setupScale(t.s))},e.prototype.updateAnimationFrameByBaseFrame=function(t){if(this.hasAnimatedAnchorPoint&&this.animatedAnchorPoints.forEach(function(e){e.startFrame+=t,e.endFrame+=t}),this.hasAnimatedOpacity&&this.animatedOpacities.forEach(function(e){e.startFrame+=t,e.endFrame+=t}),this.hasAnimatedPosition&&this.animatedPositions.forEach(function(e){e.startFrame+=t,e.endFrame+=t}),this.hasAnimatedSeparatedPosition){var e=this.animatedPositions;e.x.forEach(function(e){e.startFrame+=t,e.endFrame+=t}),e.y.forEach(function(e){e.startFrame+=t,e.endFrame+=t})}this.hasAnimatedRotation&&this.animatedRotations.forEach(function(e){e.startFrame+=t,e.endFrame+=t}),this.hasAnimatedScale&&this.animatedScales.forEach(function(e){e.startFrame+=t,e.endFrame+=t})},e.prototype.setupAnchorPoint=function(t){var r=e.createAnchorPoint(t);r.length>0?(this.hasAnimatedAnchorPoint=!0,this.animatedAnchorPoints=r):this.pivot=r},e.createAnchorPoint=function(t){if("number"==typeof t.k[0]){var r=t.k;return new s.Point(r[0],r[1])}return e.createAnimatedAnchorPoint(t.k)},e.createAnchorPointEasing=function(t){return t.i&&t.o?h.default(t.o.x,t.o.y,t.i.x,t.i.y):function(t){return t}},e.createAnimatedAnchorPoint=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createAnchorPointEasing(i),fromAnchorPoint:i.s,toAnchorPoint:i.e}})},e.prototype.setupOpacity=function(t){var r=e.createOpacity(t);r.length>0?(this.hasAnimatedOpacity=!0,this.animatedOpacities=r):this.alpha=r},e.createOpacity=function(t){var r=t.k;return"number"==typeof r?r/100:e.createAnimatedOpacity(t.k)},e.createOpacityEasing=function(t){return t.i&&t.o?h.default(t.o.x[0],t.o.y[0],t.i.x[0],t.i.y[0]):function(t){return t}},e.createAnimatedOpacity=function(t){var r=t.length-1;return t.map(function(i,n){var a,o;return i.s&&i.e?(a=i.s[0],o=i.e[0]):i.s&&!i.e&&(o=a=i.s[0]),{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createOpacityEasing(i),fromOpacity:void 0!==a?a/100:void 0,toOpacity:void 0!==o?o/100:void 0}})},e.prototype.setupPosition=function(t){var r=e.createPosition(t),i=r,n=r;i.x&&i.y&&i.x.length>0&&i.y.length>0?(this.hasAnimatedSeparatedPosition=!0,this.animatedPositions=r):n.length>0?(this.hasAnimatedPosition=!0,this.animatedPositions=r):this.position=r},e.createPosition=function(t){var r=t;if(!r.k&&t.x&&t.y){if("number"==typeof t.x.k)return new s.Point(r.x.k,r.y.k);var i=t;return{x:e.createAnimatedSeparatedPosition(i.x.k),y:e.createAnimatedSeparatedPosition(i.y.k)}}if("number"==typeof r.k[0]){var n=r.k;return new s.Point(n[0],n[1])}return e.createAnimatedPosition(r.k)},e.createSeparatedPositionEasing=function(t){return t.i&&t.o?h.default(t.o.x[0],t.o.y[0],t.i.x[0],t.i.y[0]):function(t){return t}},e.createAnimatedSeparatedPosition=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createSeparatedPositionEasing(i),fromPosition:i.s?i.s[0]:void 0,toPosition:i.e?i.e[0]:void 0}})},e.createPositionEasing=function(t){return t.i&&t.o?"number"==typeof t.i.x?(t=t,h.default(t.o.x,t.o.y,t.i.x,t.i.y)):(t=t,h.default(t.o.x[0],t.o.y[0],t.i.x[0],t.i.y[0])):function(t){return t}},e.createAnimatedPosition=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createPositionEasing(i),fromPosition:i.s,toPosition:i.e?i.e:i.s}})},e.prototype.setupRotation=function(t){if(t){var r=e.createRotation(t);r.length>0?(this.hasAnimatedRotation=!0,this.animatedRotations=r):this.rotation=r}},e.createRotation=function(t){var r=t.k;return"number"==typeof r?Math.PI*r/180:e.createAnimatedRotation(t.k)},e.createRotationEasing=function(t){return t.i&&t.o?h.default(t.o.x[0],t.o.y[0],t.i.x[0],t.i.y[0]):function(t){return t}},e.createAnimatedRotation=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createRotationEasing(i),fromRotation:i.s?Math.PI*i.s[0]/180:void 0,toRotation:i.e?Math.PI*i.e[0]/180:void 0}})},e.prototype.setupScale=function(t){var r=e.createScale(t);if(r.length>0)this.hasAnimatedScale=!0,this.animatedScales=r;else{var i=r;this.scaleX=i.x,this.scaleY=i.y,this.scale=i}},e.createScale=function(t){var r=t.k;if("number"==typeof r[0]){var i=r,n=i[0]/100,a=i[1]/100;return new s.Point(n,a)}return e.createAnimatedScale(t.k)},e.createScaleEasing=function(t){return t.i&&t.o?h.default(t.o.x[0],t.o.y[1],t.i.x[0],t.i.y[1]):function(t){return t}},e.createAnimatedScale=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createScaleEasing(i),fromScale:i.s,toScale:i.e?i.e:i.s}})},e.prototype.animateAnchorPoint=function(t){var e,r=this,i=!1;t<this.animatedAnchorPoints[0].startFrame&&((e=this.animatedAnchorPoints[0].fromAnchorPoint)&&(this.pivot=new s.Point(e[0],e[1])));(this.animatedAnchorPoints.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(void 0===e.toAnchorPoint)return!1;if(void 0===e.fromAnchorPoint)return!1;var n=e.toAnchorPoint[0]-e.fromAnchorPoint[0],a=e.toAnchorPoint[1]-e.fromAnchorPoint[1],o=e.endFrame-e.startFrame,h=1*(t-e.startFrame)/o,u=e.easing(h),c=u*n+e.fromAnchorPoint[0],f=u*a+e.fromAnchorPoint[1];return r.pivot=new s.Point(c,f),i=!0,!0}return!1}),!i&&t>this.animatedAnchorPoints[this.animatedAnchorPoints.length-1].endFrame)&&((e=this.animatedAnchorPoints[this.animatedAnchorPoints.length-2].toAnchorPoint)&&(this.pivot=new s.Point(e[0],e[1])));return i},e.prototype.animateOpacity=function(t){var e,r=this,i=!1;t<this.animatedOpacities[0].startFrame&&(void 0!==(e=this.animatedOpacities[0].fromOpacity)&&(this.alpha=e));(this.animatedOpacities.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(void 0===e.toOpacity)return!1;if(void 0===e.fromOpacity)return!1;var n=e.toOpacity-e.fromOpacity,a=e.endFrame-e.startFrame,o=1*(t-e.startFrame)/a,s=n*e.easing(o)+e.fromOpacity;return r.alpha=s,i=!0,!0}return!1}),!i&&t>this.animatedOpacities[this.animatedOpacities.length-1].endFrame)&&(void 0!==(e=this.animatedOpacities[this.animatedOpacities.length-2].toOpacity)&&(this.alpha=e));return i},e.prototype.animatePosition=function(t){var e,r=this,i=!1,n=this.animatedPositions;t<n[0].startFrame&&((e=n[0].fromPosition)&&(this.position=new s.Point(e[0],e[1])));(n.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(void 0===e.toPosition)return!1;if(void 0===e.fromPosition)return!1;var n=e.toPosition[0]-e.fromPosition[0],a=e.toPosition[1]-e.fromPosition[1],o=e.endFrame-e.startFrame,s=1*(t-e.startFrame)/o,h=e.easing(s),u=n*h,c=a*h;return r.x=e.fromPosition[0]+u,r.y=e.fromPosition[1]+c,i=!0,!0}return!1}),!i&&t>n[n.length-1].endFrame)&&((e=n[n.length-2].toPosition)&&(this.position=new s.Point(e[0],e[1])));return i},e.prototype.animateSeparatedPosition=function(t){var e=this,r=this.animatedPositions,i=r.x,n=r.y;if(t<i[0].startFrame&&(this.x=i[0].fromPosition||0),t<n[0].startFrame&&(this.y=n[0].fromPosition||0),i.some(function(r){if(r.startFrame===r.endFrame)return!1;if(r.startFrame<=t&&t<=r.endFrame){if(void 0===r.toPosition)return!1;if(void 0===r.fromPosition)return!1;var i=r.toPosition-r.fromPosition,n=r.endFrame-r.startFrame,a=1*(t-r.startFrame)/n,o=r.easing(a);return e.x=i*o+r.fromPosition,!0}return!1}),n.some(function(r){if(r.startFrame===r.endFrame)return!1;if(r.startFrame<=t&&t<=r.endFrame){if(void 0===r.toPosition)return!1;if(void 0===r.fromPosition)return!1;var i=r.toPosition-r.fromPosition,n=r.endFrame-r.startFrame,a=1*(t-r.startFrame)/n,o=r.easing(a);return e.y=i*o+r.fromPosition,!0}return!1}),t>i[i.length-1].endFrame){var a=i[i.length-2].toPosition,o=n[n.length-2].toPosition;this.position=new s.Point(a,o)}},e.prototype.animateRotation=function(t){var e,r=this,i=!1;t<this.animatedRotations[0].startFrame&&(void 0!==(e=this.animatedRotations[0].fromRotation)&&(this.rotation=e));(this.animatedRotations.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(void 0===e.toRotation)return!1;if(void 0===e.fromRotation)return!1;var n=e.toRotation-e.fromRotation,a=e.endFrame-e.startFrame,o=1*(t-e.startFrame)/a,s=e.easing(o);return r.rotation=n*s+e.fromRotation,i=!0,!0}return!1}),!i&&t>this.animatedRotations[this.animatedRotations.length-1].endFrame)&&(void 0!==(e=this.animatedRotations[this.animatedRotations.length-2].toRotation)&&(this.rotation=e));return i},e.prototype.animateScale=function(t){var e,r=this,i=!1;t<this.animatedScales[0].startFrame&&(void 0!==(e=this.animatedScales[0].fromScale)&&(this.scale=new s.Point(e[0]/100,e[1]/100)));(this.animatedScales.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(void 0===e.toScale)return!1;if(void 0===e.fromScale)return!1;var n=e.toScale[0]-e.fromScale[0],a=e.toScale[1]-e.fromScale[1],o=e.endFrame-e.startFrame,h=1*(t-e.startFrame)/o,u=e.easing(h),c=n*u+e.fromScale[0],f=a*u+e.fromScale[1];return r.scaleX=c/100,r.scaleY=f/100,r.scale=new s.Point(r.scaleX,r.scaleY),i=!0,!0}return!1}),!i&&t>this.animatedScales[this.animatedScales.length-1].endFrame)&&(void 0!==(e=this.animatedScales[this.animatedScales.length-2].toScale)&&(this.scale=new s.Point(e[0]/100,e[1]/100)));return i},e.prototype.hasAnimateProperty=function(){return this.hasAnimatedAnchorPoint||this.hasAnimatedOpacity||this.hasAnimatedPosition||this.hasAnimatedRotation||this.hasAnimatedScale||this.hasAnimatedSeparatedPosition},e.prototype.update=function(t){this.player&&this.player.update(t)},e.prototype.updateByDelta=function(t){this.deltaPlayer&&this.deltaPlayer.update(t)},e.prototype.updateWithFrameBySelfPlayer=function(t){this.__updateWithFrame(t)},e.prototype.updateWithFrame=function(t){this.player&&this.player.isPlaying&&this.player.stop(),this.deltaPlayer&&this.deltaPlayer.isPlaying&&this.deltaPlayer.stop(),this.__updateWithFrame(t)},e.prototype.__updateWithFrame=function(t){return this.inFrame<=t&&t<=this.outFrame?this.visible=!0:this.visible=!1,!this.visible||!this.hasAnimateProperty()||(this.hasAnimatedAnchorPoint&&this.animateAnchorPoint(t),this.hasAnimatedOpacity&&this.animateOpacity(t),this.hasAnimatedPosition&&this.animatePosition(t),this.hasAnimatedRotation&&this.animateRotation(t),this.hasAnimatedScale&&this.animateScale(t),this.hasAnimatedSeparatedPosition&&this.animateSeparatedPosition(t),!0)},e.prototype.play=function(t){this.player&&this.player.play(t),this.deltaPlayer&&this.deltaPlayer.play(t)},e.prototype.pause=function(){this.player&&this.player.pause(),this.deltaPlayer&&this.deltaPlayer.pause()},e.prototype.resume=function(){this.player&&this.player.resume(),this.deltaPlayer&&this.deltaPlayer.resume()},e.prototype.stop=function(){this.player&&this.player.stop(),this.deltaPlayer&&this.deltaPlayer.stop()},e}(s.Graphics);e.Element=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1);e.Element=i.Element;var n=r(13);e.ElementFactory=n.default;var a=r(6);e.ElementFinder=a.default;var o=r(7);e.ElementPlayer=o.default;var s=r(8);e.ElementDeltaPlayer=s.default;var h=r(3);e.MaskElement=h.default},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0)),s=r(9),h=0,u=1,c=2,f=3,l=4,p=5,m=function(t){function e(r){var i=t.call(this,null,0,0,0)||this;i.maskShapePaths=r.masksProperties.map(function(t){return i.createPath(t.pt.k)});var n=r.masksProperties[0];return i.isMaskLayer=!0,i.maskTargetLayer=r,i.isClosed=n.cl,i.isInvertedMask=n.inv,i.maskMode=e.toMaskMode(n.mode),i.setBlendModeByMaskMode(i.maskMode),i.inFrame=r.inFrame,i.outFrame=r.outFrame,i.setupOpacity(n.o),i.fillColorHex="0x000000",i.fillRGBA={enabled:!0},i}return n(e,t),e.prototype.setBlendModeByMaskMode=function(t){switch(t){case u:this.blendMode=o.BLEND_MODES.ADD;break;case c:break;case f:this.blendMode=o.BLEND_MODES.LIGHTEN;break;case l:this.blendMode=o.BLEND_MODES.DARKEN;break;case p:this.blendMode=o.BLEND_MODES.DIFFERENCE}},e.toMaskMode=function(t){var e=u;switch(t){case"n":e=h;break;case"a":e=u;break;case"s":e=c;break;case"l":e=f;break;case"d":e=l;break;case"f":e=p}return e},e.prototype.updateAnimationFrameByBaseFrame=function(e){t.prototype.updateAnimationFrameByBaseFrame.call(this,e),this.maskShapePaths&&this.maskShapePaths.forEach(function(t){t.hasAnimatedPath&&t.paths&&t.paths.forEach(function(t){t.startFrame+=e,t.endFrame+=e})})},e.prototype.drawMask=function(t,r){var i=this,n=!1;if(r.hasAnimatedPath){this.isClosed=r.isClosed||!1;var a=r.paths;if(!a)return n;t<a[0].startFrame&&(this.drawPath(a[0].fromPath),this.isInvertedMask&&this.addHole(),n=!0),a.some(function(r){if(r.startFrame===r.endFrame)return!1;if(r.startFrame<=t&&t<=r.endFrame){if(!r.fromPath)return!1;var a=e.createAnimatePath(r,t);return i.drawPath(a),i.isInvertedMask&&i.addHole(),n=!0,!0}return!1});var o=a[a.length-2];o.endFrame<=t&&(this.drawPath(o.toPath),this.isInvertedMask&&this.addHole(),n=!0)}else this.inFrame<=t&&t<=this.outFrame&&(this.isClosed=r.isClosed||!1,this.drawPath(r),this.isInvertedMask&&this.addHole(),n=!0);return n},e.prototype.setupScreenSize=function(){var t=this.root();t&&(this.screenWidth=t.width,this.screenHeight=t.height)},e.prototype.drawAllMask=function(t){var e=this,r=!1;if(this.inFrame<=t&&t<=this.outFrame&&this.isInvertedMask){this.screenWidth&&this.screenHeight||this.setupScreenSize(),this.beforeDraw();var i=-this.screenWidth/2,n=-this.screenHeight/2,a=2*this.screenWidth,o=2*this.screenHeight;this.moveTo(i,n),this.lineTo(i+a,n),this.lineTo(i+a,n+o),this.lineTo(i,n+o),this.afterDraw(),r=!0}return this.maskShapePaths.forEach(function(i){e.drawMask(t,i)&&(r=!0)}),r},e.prototype.__updateWithFrame=function(t){return this.maskMode!==h&&(this.clear(),this.drawAllMask(t))},e}(s.ShapeElement);e.MaskElement=m},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0)),s=a(r(2)),h=r(3),u=r(11),c=function(t){function e(){var e=t.call(this)||this;return e.finder=new s.ElementFinder,e}return n(e,t),e.fromJSONPath=function(t,r){return(new u.AEDataLoader).loadJSON(t).then(function(t){var i=new e;return i.setup(t,r||{}),i})},e.fromData=function(t,r){var i=new e;return i.setup(t,r||{}),i},e.prototype.setup=function(t,e){var r=this;this.width=t.w,this.height=t.h,this.inFrame=t.ip,this.outFrame=t.op,this.frameRate=t.fr,this.version=t.v,this.layers=t.layers,this.textures=t.assets.filter(function(t){return!!t.texture}).map(function(t){return t.texture}),this.textureCacheIds=this.textures.filter(function(t){return t.textureCacheIds&&t.textureCacheIds.length>0}).map(function(t){return t.textureCacheIds[0]}),this.player=new s.ElementPlayer(this.frameRate,this.inFrame,this.outFrame,function(t){r.updateWithFrame(t)},function(){r.emit("completed",r)}),this.deltaPlayer=new s.ElementDeltaPlayer(this.frameRate,this.inFrame,this.outFrame,function(t){r.updateWithFrame(t)},function(){r.emit("completed",r)}),Object.keys(e).forEach(function(t){r[t]=e[t]});var i={};this.layers.forEach(function(t){i[t.index]=t}),this.layers.reverse().forEach(function(t){if(t.frameRate=r.frameRate,t.opt=e,t.hasMask){r.masks||(r.masks=[]);var n=new h.MaskElement(t);r.addChild(t),t.addChild(n),r.masks.push({maskTargetLayer:t,maskLayer:n})}else if(t.hasParent){i[t.parentIndex].addChild(t)}else r.addChild(t)}),this.player.showFirstFrame(),this.deltaPlayer.showFirstFrame()},e.prototype.find=function(t){return this.finder.findByName(t,this)},e.prototype.updateMask=function(t){this.masks.forEach(function(e){var r=e.maskLayer.__updateWithFrame(t);e.maskTargetLayer.mask=r?e.maskLayer:null})},e.prototype.update=function(t){this.layers&&(this.player.update(t),this.layers.forEach(function(e){e.update(t)}))},e.prototype.updateByDelta=function(t){this.layers&&(this.deltaPlayer.update(t),this.layers.forEach(function(e){e.updateByDelta(t)}))},e.prototype.updateWithFrame=function(t){var e=this;this.masks&&this.updateMask(t),this.noreplay?this.layers=this.layers.filter(function(r){return r.outFrame<t?(e.removeChild(r),r.destroy(),!1):(r.updateWithFrame(t),!0)}):this.layers.forEach(function(e){e.updateWithFrame(t)})},e.prototype.play=function(t){this.player.play(t),this.deltaPlayer.play(t)},e.prototype.pause=function(){this.player.pause(),this.deltaPlayer.pause()},e.prototype.resume=function(){this.player.resume(),this.deltaPlayer.resume()},e.prototype.stop=function(){this.player.stop(),this.deltaPlayer.stop()},e}(o.Container);e.AfterEffects=c},function(t,e){var r=4,i=.001,n=1e-7,a=10,o=11,s=1/(o-1),h="function"==typeof Float32Array;function u(t,e){return 1-3*e+3*t}function c(t,e){return 3*e-6*t}function f(t){return 3*t}function l(t,e,r){return((u(e,r)*t+c(e,r))*t+f(e))*t}function p(t,e,r){return 3*u(e,r)*t*t+2*c(e,r)*t+f(e)}function m(t){return t}t.exports=function(t,e,u,c){if(!(0<=t&&t<=1&&0<=u&&u<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&u===c)return m;for(var f=h?new Float32Array(o):new Array(o),d=0;d<o;++d)f[d]=l(d*s,t,u);function y(e){for(var h=0,c=1,m=o-1;c!==m&&f[c]<=e;++c)h+=s;var d=h+(e-f[--c])/(f[c+1]-f[c])*s,y=p(d,t,u);return y>=i?function(t,e,i,n){for(var a=0;a<r;++a){var o=p(e,i,n);if(0===o)return e;e-=(l(e,i,n)-t)/o}return e}(e,d,t,u):0===y?d:function(t,e,r,i,o){var s,h,u=0;do{(s=l(h=e+(r-e)/2,i,o)-t)>0?r=h:e=h}while(Math.abs(s)>n&&++u<a);return h}(e,h,h+s,t,u)}return function(t){return 0===t?0:1===t?1:l(y(t),e,c)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.findByName=function(t,e){return this.__findByName(t,e)},t.prototype.__findByName=function(t,e){var r=this,i=[];return e.name===t&&i.push(e),e.children.forEach(function(e){e.name===t&&i.push(e),r.__findByName(t,e).forEach(function(t){i.push(t)})}),i},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r,i,n){this.frameRate=t,this.inFrame=e,this.outFrame=r,this.isLoop=!1,this.isCompleted=!1,this.updater=i,this.completed=n}return t.prototype.showFirstFrame=function(){this.updater(0)},t.prototype.update=function(t){if(0!==this.frameRate&&this.isPlaying&&(this.firstTime||(this.firstTime=t),!this.isCompleted)){this.nowTime=t;var e=t-this.firstTime,r=this.inFrame+e*this.frameRate/1e3;if(r>this.outFrame){if(r=this.outFrame-.01,!this.isLoop)return this.isCompleted=!0,void(this.completed&&this.completed());this.firstTime=t}this.updater(r)}},t.prototype.play=function(t){this.isLoop=t||!1,this.firstTime=null,this.isCompleted=!1,this.isPlaying=!0},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.resume=function(){var t=this.nowTime-(this.firstTime||0),e=performance.now();this.firstTime=e-t,this.isPlaying=!0},t.prototype.stop=function(){this.firstTime=null,this.isCompleted=!0,this.isPlaying=!1,this.showFirstFrame()},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r,i,n){this.frameRate=t,this.inFrame=e,this.outFrame=r,this.isLoop=!1,this.isCompleted=!1,this.updater=i,this.completed=n}return t.prototype.showFirstFrame=function(){this.updater(0)},t.prototype.update=function(t){if(0!==this.frameRate&&this.isPlaying&&(this.elapsedTime||(this.elapsedTime=0),!this.isCompleted)){this.elapsedTime+=t;var e=this.inFrame+this.elapsedTime*this.frameRate/1e3;if(e>this.outFrame){if(e=this.outFrame-.01,!this.isLoop)return this.isCompleted=!0,void(this.completed&&this.completed());this.elapsedTime=0}this.updater(e)}},t.prototype.play=function(t){this.isLoop=t||!1,this.isCompleted=!1,this.isPlaying=!0},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.resume=function(){this.isPlaying=!0},t.prototype.stop=function(){this.isCompleted=!0,this.isPlaying=!1,this.elapsedTime=0,this.showFirstFrame()},t}();e.default=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(r(0)),h=o(r(5)),u=r(1),c=o(r(10)),f=function(t){function e(e,r,i,n){var a=t.call(this)||this;return e?(a.name=e.nm,a.type=e.ty,a.inFrame=r,a.outFrame=i,a.startTime=n,a.beginProcess=c.default.select(function(){},function(){a.beginHole()}),a.endProcess=c.default.select(function(){a.graphicsData.length<=1||a.addHole()},function(){a.endHole()}),e.it?a.setupShapeIteration(e.it):a.setupShapeByType(e),a.drawThis(0),a):a}return n(e,t),e.prototype.setupShapeByType=function(t){switch(t.ty){case"sh":this.setupPath(t);break;case"st":this.setupStroke(t);break;case"tm":this.setupTrim(t);break;case"rc":this.setupRect(t);break;case"el":this.setupEllipse(t);break;case"fl":this.setupFill(t);break;case"tr":this.setupProperties(t)}},e.prototype.setupShapeIteration=function(t){var e=this;t.forEach(function(t){e.setupShapeByType(t)}),this.shapePaths&&this.shapePaths.reverse()},e.prototype.setupPath=function(t){this.shapePaths||(this.shapePaths=[]),this.shapePaths.push({isClosed:t.closed,name:t.nm,path:this.createPath(t.ks.k)})},e.prototype.setupStroke=function(t){this.stroke={lineCap:t.lc,lineJoin:t.lj,miterLimit:t.ml,opacity:t.o.k,width:t.w.k,color:e.createColor(t.c),enabledFill:t.fillEnabled}},e.prototype.setupTrim=function(t){this.trim={m:t.m,o:t.o,name:t.nm,start:e.createTrim(t.s.k),end:e.createTrim(t.e.k)},this.trim.start.length>0&&(this.trim.enabledAnimation=!0)},e.createTrim=function(t){return"number"==typeof t?t:e.createTrimAnimation(t)},e.createTrimEasing=function(t){return t.i&&t.o?h.default(t.o.x[0],t.o.y[0],t.i.x[0],t.i.y[0]):function(t){return t}},e.createTrimAnimation=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createTrimEasing(i),fromRatio:i.s?i.s[0]:null,toRatio:i.e?i.e[0]:null}})},e.prototype.setupRect=function(t){this.rects||(this.rects=[]);var r={name:t.nm,direction:t.d,position:e.createPosition(t.p),size:e.createSize(t.s)},i=r.position,n=r.size;(i.length>0||n.length>0)&&(r.enabledAnimation=!0),this.rects.push(r)},e.prototype.setupEllipse=function(t){this.ellipses||(this.ellipses=[]);var r={direction:t.d,position:e.createPosition(t.p),size:e.createSize(t.s)},i=r.position,n=r.size;(i.length>0||n.length>0)&&(r.enabledAnimation=!0),this.ellipses.push(r)},e.createSize=function(t){return e.createPosition(t)},e.createColor=function(t){return"number"==typeof t.k[0]?e.rgbArrayToHex(t.k):e.createAnimatedColor(t.k)},e.createColorEasing=function(t){return t.i&&t.o?h.default(t.o.x,t.o.y,t.i.x,t.i.y):function(t){return t}},e.createAnimatedColor=function(t){var r=t.length-1;return t.map(function(i,n){return{name:i.n,startFrame:i.t,endFrame:r>n?t[n+1].t:i.t,easing:e.createColorEasing(i),fromColor:i.s?e.rgbArrayToHex(i.s):"0x000000",toColor:i.e?e.rgbArrayToHex(i.e):"0x000000"}})},e.createPathEasing=function(t){return t.i&&t.o?h.default(t.o.x,t.o.y,t.i.x,t.i.y):function(t){return t}},e.prototype.createPathByAnimation=function(t){var r=this,i=t.length-1;return{moveTo:new s.Point(0,0),bezierCurveToPaths:[],hasAnimatedPath:!0,paths:t.map(function(n,a){return{name:n.n,startFrame:n.t,endFrame:i>a?t[a+1].t:n.t,easing:e.createPathEasing(n),fromPath:n.s?r.createPath(n.s[0]):null,toPath:n.e?r.createPath(n.e[0]):null}})}},e.prototype.createPath=function(t){if(!t.v)return this.createPathByAnimation(t);var e=JSON.parse(JSON.stringify(t)),r={moveTo:new s.Point(0,0),bezierCurveToPaths:[]};return e.v.forEach(function(t,i){if(e.i[i][0]+=e.v[i][0],e.i[i][1]+=e.v[i][1],e.o[i][0]+=e.v[i][0],e.o[i][1]+=e.v[i][1],0!==i){var n=e.o[i-1],a=e.i[i],o=e.v[i];1===i&&(r.moveTo=new s.Point(e.v[0][0],e.v[0][1])),r.bezierCurveToPaths.push({cp:new s.Point(n[0],n[1]),cp2:new s.Point(a[0],a[1]),to:new s.Point(o[0],o[1])})}}),r.bezierCurveToPaths.push({cp:new s.Point(e.o[e.v.length-1][0],e.o[e.v.length-1][1]),cp2:new s.Point(e.i[0][0],e.i[0][1]),to:new s.Point(e.v[0][0],e.v[0][1])}),r},e.prototype.setupFill=function(t){this.fillRGBA={color:e.createColor(t.c),enabled:!0,name:t.nm,opacity:e.createOpacity(t.o)}},e.rgbArrayToHex=function(t){return e.rgbToHex(t[0],t[1],t[2])},e.rgbToHex=function(t,r,i){var n=e.toHex;return"0x"+n(t)+n(r)+n(i)},e.toHex=function(t){t<=1&&(t*=255,t=Math.floor(t));var e=t.toString(16);return 1===e.length?"0"+e:e},e.prototype.updateAnimationFrameByBaseFrame=function(e){t.prototype.updateAnimationFrameByBaseFrame.call(this,e),this.shapePaths&&(this.shapePaths.forEach(function(t){t.path.hasAnimatedPath&&t.path.paths&&t.path.paths.forEach(function(t){t.startFrame+=e,t.endFrame+=e})}),this.ellipses&&this.ellipses.forEach(function(t){if(t.enabledAnimation){var r=t.size;r.length>0&&r.forEach(function(t){t.startFrame+=e,t.endFrame+=e});var i=t.position;i.length>0&&i.forEach(function(t){t.startFrame+=e,t.endFrame+=e})}}),this.rects&&this.rects.forEach(function(t){if(t.enabledAnimation){var r=t.size;r.length>0&&r.forEach(function(t){t.startFrame+=e,t.endFrame+=e});var i=t.position;i.length>0&&i.forEach(function(t){t.startFrame+=e,t.endFrame+=e})}}))},e.prototype.drawPathForMask=function(t){var e=this,r=t.moveTo;this.moveTo(r.x,r.y),t.bezierCurveToPaths.forEach(function(t){e.bezierCurveTo(t.cp.x,t.cp.y,t.cp2.x,t.cp2.y,t.to.x,t.to.y)}),this.closePath()},e.prototype.beforeDraw=function(){this.stroke?(this.stroke.enabledFill&&this.strokeColorHex?this.beginFill(parseInt(this.strokeColorHex,16)):this.fillRGBA&&this.fillColorHex&&this.beginFill(parseInt(this.fillColorHex,16)),this.strokeColorHex&&this.lineStyle(this.stroke.width,parseInt(this.strokeColorHex,16))):this.fillRGBA&&this.fillColorHex&&(this.fillRGBA.enabled?this.beginFill(parseInt(this.fillColorHex,16)):this.lineStyle(2,parseInt(this.fillColorHex,16)))},e.prototype.afterDraw=function(){this.isClosed&&(this.stroke?this.stroke.enabledFill?this.endFill():this.fillRGBA?this.endFill():this.closePath():this.fillRGBA&&(this.fillRGBA.enabled?this.endFill():this.closePath()))},e.prototype.drawPath=function(t){var e=this;this.beforeDraw(),this.moveTo(t.moveTo.x,t.moveTo.y),t.bezierCurveToPaths.forEach(function(t){e.bezierCurveTo(t.cp.x,t.cp.y,t.cp2.x,t.cp2.y,t.to.x,t.to.y)}),this.afterDraw()},e.createAnimatePos=function(t,e,r,i){var n=t.endFrame-t.startFrame,a=1*(e-t.startFrame),o=i.x-r.x,h=i.y-r.y,u=a/n,c=t.easing(u),f=o*c+r.x,l=h*c+r.y;return new s.Point(f,l)},e.createAnimatePath=function(t,r){var i=t.fromPath,n=t.toPath;return{moveTo:e.createAnimatePos(t,r,i.moveTo,n.moveTo),bezierCurveToPaths:i.bezierCurveToPaths.map(function(a,o){var s=i.bezierCurveToPaths[o],h=n.bezierCurveToPaths[o];return{cp:e.createAnimatePos(t,r,s.cp,h.cp),cp2:e.createAnimatePos(t,r,s.cp2,h.cp2),to:e.createAnimatePos(t,r,s.to,h.to)}})}},e.prototype.setupStrokeColor=function(t){var e=this;if(this.stroke)if("string"!=typeof this.stroke.color){var r=this.stroke.color[0];if(t<r.startFrame)return void(this.strokeColorHex=r.fromColor);this.stroke.color.forEach(function(r){r.startFrame<=t&&t<=r.endFrame&&(e.strokeColorHex=r.fromColor)});var i=this.stroke.color[this.stroke.color.length-2];t>i.endFrame&&(this.strokeColorHex=i.fromColor)}else this.strokeColorHex=this.stroke.color},e.prototype.setupFillColor=function(t){var e=this;if(this.fillRGBA)if("string"!=typeof this.fillRGBA.color){var r=this.fillRGBA.color,i=r[0];if(t<i.startFrame)return void(this.fillColorHex=i.fromColor);r.forEach(function(r){r.startFrame<=t&&t<=r.endFrame&&(e.fillColorHex=r.fromColor)});var n=r[r.length-2];t>n.endFrame&&(this.fillColorHex=n.toColor)}else this.fillColorHex=this.fillRGBA.color},e.createShapePosition=function(t,e){var r=e.position;if(r.length>0){var i=null;r.forEach(function(e){if(e.toPosition&&e.fromPosition&&e.startFrame<=t&&t<=e.endFrame){var r=e.toPosition[0]-e.fromPosition[0],n=e.toPosition[1]-e.fromPosition[1],a=e.endFrame-e.startFrame,o=1*(t-e.startFrame)/a,h=e.easing(o),u=r*h+e.fromPosition[0],c=n*h+e.fromPosition[1];i=new s.Point(u,c)}});var n=r[r.length-2];return t>n.endFrame&&n.toPosition&&(i=new s.Point(n.toPosition[0],n.toPosition[1])),i}return e.position},e.createShapeSize=function(t,e){var r=e.size;if(r.length>0){var i=null;r.forEach(function(e){if(e.toPosition&&e.fromPosition&&e.startFrame<=t&&t<=e.endFrame){var r=e.toPosition[0]-e.fromPosition[0],n=e.toPosition[1]-e.fromPosition[1],a=e.endFrame-e.startFrame,o=1*(t-e.startFrame)/a,h=e.easing(o),u=r*h+e.fromPosition[0],c=n*h+e.fromPosition[1];i=new s.Point(u,c)}});var n=r[r.length-2];return t>n.endFrame&&n.toPosition&&(i=new s.Point(n.toPosition[0],n.toPosition[1])),i}return e.size},e.prototype.drawEllipseAnimation=function(t,r){var i=e.createShapePosition(t,r),n=e.createShapeSize(t,r);i&&n&&this.drawEllipse(i.x,i.y,n.x/2,n.y/2)},e.prototype.drawRectAnimation=function(t,r){var i=e.createShapePosition(t,r),n=e.createShapeSize(t,r);i&&n&&this.drawRect(i.x,i.y,n.x,n.y)},e.prototype.drawTrim=function(t){var e=this;if(!this.trim.enabledAnimation)return this.beforeDraw(),this.shapePaths.forEach(function(t){var r=t.path,i=r.moveTo,n=r.bezierCurveToPaths[0],a=n.to.x-i.x,o=n.to.y-i.y,s=e.trim.start,h=e.trim.end,u=i.x+a*s/100,c=i.y+o*s/100,f=i.x+a*h/100,l=i.y+o*h/100;e.moveTo(u,c),e.lineTo(f,l)}),void this.afterDraw();var r=this.trim.start,i=this.trim.end;if(!(t<r[0].startFrame&&t<i[0].startFrame)){var n=0;r.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(!e.toRatio)return!1;if(!e.fromRatio)return!1;var r=e.toRatio-e.fromRatio,i=e.endFrame-e.startFrame,a=t-e.startFrame;return n=a*(1*r/i)+e.fromRatio,!0}return!1});var a=r[r.length-2];a.endFrame<=t&&(n=a.toRatio);var o=0;if(i.some(function(e){if(e.startFrame===e.endFrame)return!1;if(e.startFrame<=t&&t<=e.endFrame){if(!e.toRatio)return!1;if(!e.fromRatio)return!1;var r=e.toRatio-e.fromRatio,i=e.endFrame-e.startFrame,n=t-e.startFrame;return o=n*(1*r/i)+e.fromRatio,!0}return!1}),(a=i[i.length-2]).endFrame<=t&&(o=a.toRatio),n>o){var s=n;n=o,o=s}this.beforeDraw(),this.shapePaths.forEach(function(t){var r=t.path,i=r.moveTo,a=r.bezierCurveToPaths[0],s=a.to.x-i.x,h=a.to.y-i.y,u=i.x+s*n/100,c=i.y+h*n/100,f=i.x+s*o/100,l=i.y+h*o/100;e.moveTo(u,c),e.lineTo(f,l)}),this.afterDraw()}},e.prototype.drawShapePath=function(t,r,i){var n=this;if(r.path.hasAnimatedPath){this.isClosed=r.isClosed;var a=r.path.paths;if(!a)return;t<a[0].startFrame&&(0!==i&&this.beginProcess(),this.drawPath(a[0].fromPath),0!==i&&this.endProcess()),a.some(function(r){if(r.startFrame===r.endFrame)return!1;if(r.startFrame<=t&&t<=r.endFrame){if(!r.fromPath)return!1;0!==i&&n.beginProcess();var a=e.createAnimatePath(r,t);return n.drawPath(a),0!==i&&n.endProcess(),!0}return!1});var o=a[a.length-2];o.endFrame<=t&&(0!==i&&this.beginProcess(),this.drawPath(o.toPath),0!==i&&this.endProcess())}else this.inFrame<=t&&t<=this.outFrame&&(0!==i&&this.beginProcess(),this.isClosed=r.isClosed,this.drawPath(r.path),0!==i&&this.endProcess())},e.prototype.drawShapePaths=function(t){var e=this;this.shapePaths.forEach(function(r,i){e.drawShapePath(t,r,i)})},e.prototype.drawThis=function(t){var e=this;this.clear(),this.setupStrokeColor(t),this.setupFillColor(t),this.trim?this.drawTrim(t):this.shapePaths&&this.drawShapePaths(t),this.ellipses&&(this.beforeDraw(),this.ellipses.forEach(function(r){if(r.enabledAnimation)e.drawEllipseAnimation(t,r);else{var i=r.position,n=r.size;e.drawEllipse(i.x,i.y,n.x/2,n.y/2)}}),this.afterDraw()),this.rects&&(this.beforeDraw(),this.rects.forEach(function(r){if(r.enabledAnimation)e.drawRectAnimation(t,r);else{var i=r.position,n=r.size;e.drawRect(i.x,i.y,n.x,n.y)}}),this.afterDraw())},e.prototype.__updateWithFrame=function(e){return t.prototype.__updateWithFrame.call(this,e),this.drawThis(e),!0},e}(u.Element);e.ShapeElement=f;var l=function(t){function e(e){var r=t.call(this,e)||this;return e.bounds?r.setupBounds(e.bounds):(r.width=0,r.height=0),r.shapes=e.shapes.map(function(t){return new f(t,r.inFrame,r.outFrame,r.startTime)}),r.shapes.forEach(function(t){r.scaleX&&r.scaleY&&(t.scaleX=r.scaleX,t.scaleY=r.scaleY,t.scale=new s.Point(r.scaleX,r.scaleY)),r.addChild(t)}),r}return n(e,t),e.prototype.destroy=function(t){var e=this;this.children.concat().forEach(function(r){r.destroy(t),e.removeChild(r)})},Object.defineProperty(e.prototype,"frameRate",{set:function(t){this.frameRate=t,this.children.forEach(function(e){e.frameRate=t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opt",{set:function(t){this.opt=t,this.children.forEach(function(e){e.opt=t})},enumerable:!0,configurable:!0}),e.prototype.updateAnimationFrameByBaseFrame=function(e){t.prototype.updateAnimationFrameByBaseFrame.call(this,e),this.shapes.forEach(function(t){t.inFrame+=e,t.outFrame+=e,t.updateAnimationFrameByBaseFrame(e)})},e.prototype.setupBounds=function(t){this.width=t.r-t.l,this.height=t.b-t.t,this.bounds={top:t.t,bottom:t.b,left:t.l,right:t.r}},e.prototype.__updateWithFrame=function(e){var r=this;(t.prototype.__updateWithFrame.call(this,e),this.noreplay)?this.children.concat().forEach(function(t){var i=t;return i.outFrame<e?(r.removeChild(i),i.destroy(),!1):(i.__updateWithFrame(e),!0)}):this.children.forEach(function(t){t.__updateWithFrame(e)});return!0},e}(u.Element);e.default=l},function(t,e,r){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n={version:i(r(0)).VERSION,semanticVersion:function(){var t=this.version.match(/([0-9]+)\.([0-9]+)\.([0-9]+)/);return!t||t.length<3?{major:0,minor:0,patch:0}:{major:parseInt(t[1],10),minor:parseInt(t[2],10),patch:parseInt(t[3],10)}},major:function(){return this.semanticVersion().major},minor:function(){return this.semanticVersion().minor},patch:function(){return this.semanticVersion().patch},isV4:function(){return 4===this.major()},isV5:function(){return 5===this.major()},select:function(t,e){return this.isV4()&&void 0!==t?t:this.isV5()&&void 0!==e?e:function(){}}};e.default=n},function(t,e,r){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(0)),o=i(r(2)),s=r(18),h=n(r(10)),u=function(){function t(){this.imagePathProxy=function(t){return t},this.createImageLoader=h.default.select(function(t){return(new a.loaders.Loader)("",t.length)},function(t){new a.Loader("",t.length)})}return t.prototype.loadJSON=function(t){var e=this;return new Promise(function(r,i){fetch(t).then(function(t){return t.json()}).then(function(n){if(!n)return i();var a=n;return e.load(a,t,null).then(function(){r(a)}).catch(function(t){i(t)})})})},t.prototype.loadJSONWithInterceptor=function(t,e){var r=this;return new Promise(function(i,n){return e?fetch(t).then(function(t){return t.json()}).then(function(a){var o=a;return r.load(o,t,e).then(function(){i(o)}).catch(function(t){n(t)})}):n(new Error("required interceptor parameter"))})},t.loadLayers=function(t,e){return t.layers.map(function(t){return e&&e.intercept(t),o.ElementFactory.create(t)}).filter(function(t){return null!==t})},t.prototype.loadAssets=function(t,e,r){var i=this,n=e.split("/").slice(0,-1).join("/"),a=t.assets.map(function(t){return r&&r.intercept(t),new s.Asset(i,t,n)}),o=a.filter(function(t){return!!t.imagePath});return 0===o.length?new Promise(function(t){return t(a)}):this.loadImages(o).then(function(){return a})},t.prototype.loadImages=function(t){var e=this;return new Promise(function(r,i){var n=e.createImageLoader(t),a=t.filter(function(t){return!n.resources[t.imagePath]});return 0===a.length?(t.forEach(function(t){t.texture=n.resources[t.imagePath].texture}),r()):(a.forEach(function(t){n.add(t.imagePath,t.imagePath)}),n.onError.add(function(t,e,r){i(t)}),n.load(function(e,i){t.forEach(function(t){return t.texture=i[t.imagePath].texture}),r()}))})},t.resolveReference=function(t,e){var r={};e.forEach(function(t){r[t.id]=t}),t.forEach(function(t){t.isCompType()?t.setupReference(r):t.isImageType()&&t.setupImage(r)})},t.prototype.load=function(e,r,i){return this.loadAssets(e,r,i).then(function(r){var n=t.loadLayers(e,i);t.resolveReference(n,r),e.assets=r,e.layers=n})},t}();e.AEDataLoader=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(4),n=r(11),a=r(19);window.PIXI.AfterEffects=i.AfterEffects,window.PIXI.AEDataLoader=n.AEDataLoader,window.PIXI.AEDataInterceptor=a.AEDataInterceptor},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),a=i(r(14)),o=i(r(15)),s=i(r(16)),h=i(r(17)),u=i(r(9)),c=0,f=1,l=2,p=3,m=4,d=5,y=9,P=13,v=function(){function t(){}return t.create=function(t){var e=null;switch(t.ty){case c:e=new a.default(t);break;case f:e=new s.default(t);break;case l:e=new o.default(t);break;case m:e=new u.default(t);break;case d:e=new h.default(t);break;case P:break;case p:e=new a.default(t);break;case y:e=new n.Element(t)}return e},t}();e.default=v},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0)),s=r(1),h=r(3),u=function(t){function e(e){var r=t.call(this,e)||this;return e.w>0&&e.h>0&&(r.originWidth=e.w,r.originHeight=e.h,r.scale=new o.Point(r.scaleX,r.scaleY)),r.scaleX<0&&(r.scale.x=r.scaleX),r.clonedLayers=[],r.autoOriented=e.ao,r}return n(e,t),e.prototype.allLayers=function(){var t=[];if(this.masks&&(t=t.concat(this.masks.map(function(t){return t.maskLayer}))),this.layers)t=t.concat(this.layers);else{var e=this.children.map(function(t){return t instanceof s.Element?t:null}).filter(function(t){return null!==t});t=t.concat(e)}return t.concat(this.clonedLayers)},Object.defineProperty(e.prototype,"frameRate",{set:function(t){this.frameRate=t,this.allLayers().forEach(function(e){return e.frameRate=t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opt",{set:function(t){this.opt=t,this.allLayers().forEach(function(e){return e.opt=t})},enumerable:!0,configurable:!0}),e.prototype.addMaskLayer=function(t){if(t.hasMask){this.masks||(this.masks=[]);var e=new h.MaskElement(t);e.updateAnimationFrameByBaseFrame(this.startTime||0),t.addChild(e),t.maskLayer=e,this.masks.push({maskTargetLayer:t,maskLayer:e})}},e.prototype.setupTrackMatteLayer=function(t,e){e.isInvertedMask=t.isInvertTrackMatteType(),e.alpha=0,t.maskLayer=e,t.addChild(e),this.masks||(this.masks=[]),this.masks.push({maskTargetLayer:t,maskLayer:e})},e.prototype.setupReference=function(t){var e=this;if(this.referenceId){var r=t[this.referenceId];r&&(this.layers=r.createLayers(),this.layers.forEach(function(t){t.inFrame+=e.startTime,t.outFrame+=e.startTime,t.startTime+=e.startTime,t.updateAnimationFrameByBaseFrame(e.startTime||0)}),this.blendMode!==o.BLEND_MODES.NORMAL&&this.layers.forEach(function(t){t.blendMode=e.blendMode}),this.resolveLayerReference(this.layers,t,r),this.layers.forEach(function(t,r){if(!t.hasParent){if(t.hasTrackMatteType){var i=e.layers[r+1];e.setupTrackMatteLayer(t,i)}else e.addMaskLayer(t);t.isTrackMatteData||e.addChild(t)}}),this.clonedLayers.forEach(function(t){t.inFrame+=e.startTime,t.outFrame+=e.startTime,t.startTime+=e.startTime,t.updateAnimationFrameByBaseFrame(e.startTime||0),e.addChild(t)}))}},e.prototype.createParentLayer=function(t,e){if(!t.hasParent)return null;var r=e.createLayerByIndex(t.parentIndex);if(!r)return null;r.shapes&&(r.shapes.forEach(function(t){var e=t.parent;e&&e.removeChild(t)}),r.shapes=[],r.inFrame=t.inFrame,r.outFrame=t.outFrame),this.addMaskLayer(t),r.addChild(t);var i=this.createParentLayer(r,e);return i?(i.addChild(r),i):r},e.prototype.resolveLayerReference=function(t,e,r){var i=this;t.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),t.reverse().forEach(function(t){var e=i.createParentLayer(t,r);e&&i.clonedLayers.push(e)}),t.forEach(function(t){t.isCompType()?t.setupReference(e):t.isImageType()&&t.setupImage(e)})},e.prototype.updateMask=function(t){this.masks.forEach(function(e){var r=e.maskLayer;r.isTrackMatteData&&r.maskLayer&&(r=r.maskLayer);var i=r.__updateWithFrame(t);e.maskTargetLayer.mask=i?r:null})},e.prototype.updateNotLayers=function(t){var e=this;(this.alpha=1,this.noreplay)?this.children.concat().forEach(function(r){if(r instanceof s.Element){if(r.outFrame<t)return e.removeChild(r),void r.destroy();r.__updateWithFrame(t)}}):this.children.forEach(function(e){e instanceof s.Element&&e.__updateWithFrame(t)})},e.prototype.updateLayers=function(t){var e=this;this.noreplay?this.layers=this.layers.filter(function(r){return r.outFrame<t?(e.removeChild(r),r.destroy(),!1):(r.__updateWithFrame(t),!0)}):this.layers.forEach(function(e){e.__updateWithFrame(t)})},e.prototype.updateClonedLayers=function(t){var e=this;this.noreplay?this.clonedLayers=this.clonedLayers.filter(function(r){return r.outFrame<t?(e.removeChild(r),r.destroy(),!1):(r.__updateWithFrame(t),r.visible=!0,!0)}):this.clonedLayers.forEach(function(e){e.__updateWithFrame(t),e.visible=!0})},e.prototype.__updateWithFrame=function(e){return t.prototype.__updateWithFrame.call(this,e),this.masks&&this.updateMask(e),this.layers?this.updateLayers(e):this.updateNotLayers(e),this.updateClonedLayers(e),!0},e}(s.Element);e.default=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0)),s=function(t){function e(e){var r=t.call(this,e)||this;return e.bmPIXI&&(r.blendMode=e.bmPIXI),e.image&&(r.image=e.image,r.blendMode!==o.BLEND_MODES.NORMAL&&(r.image.blendMode=r.blendMode),r.addChild(r.image)),r}return n(e,t),e.prototype.setupImage=function(t){if(!this.image&&this.referenceId){var e=t[this.referenceId];e&&(e.blendMode&&(this.blendMode=e.blendMode),this.image=new o.Sprite(e.texture),this.image.blendMode=this.blendMode,this.addChild(this.image))}},e}(r(1).Element);e.default=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var r=t.call(this,e)||this;return r.color=e.sc||"",r.colorNumber=e.sc||0,r.sw=e.sw||0,r.sh=e.sh||0,r.color.startsWith("#")&&(r.color="0x"+r.color.substr(1),r.colorNumber=parseInt(r.color,16)),r}return n(e,t),e.prototype.__updateWithFrame=function(e){return t.prototype.__updateWithFrame.call(this,e),this.clear(),this.beginFill(this.colorNumber,this.opacity),this.drawRect(0,0,this.sw*this.scaleX,this.sh*this.scaleY),this.endFill(),!0},e}(r(1).Element);e.default=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0)),s=r(1),h=0,u=1,c=2,f={};f[h]="left",f[u]="right",f[c]="center";var l=function(t){function e(e){var r=t.call(this,e)||this;if(e.text)return r.text=e.text,e.rawText&&(r.rawText=e.rawText,r.text.text=e.rawText),r.addChild(r.text),r;if(e.t){var i=e.t.d.k[0].s;e.rawText&&(i.t=e.rawText),r.setupText(i)}return r}return n(e,t),e.toHex=function(t){t<=1&&(t*=255,t=Math.floor(t));var e=t.toString(16);return 1===e.length?"0"+e:e},e.toFontColor=function(t){return t.length>0?parseInt("0x"+this.toHex(t[0])+this.toHex(t[1])+this.toHex(t[2]),16):16777215},e.prototype.setupText=function(t){if(!this.text){this.fontFamily=t.f,this.fontColor=e.toFontColor(t.fc),this.fontSize=t.s,this.rawText=t.t,this.baseLineHeight=t.lh,this.baseLineShift=t.ls,this.tracking=t.tr,this.justification=t.j,this.text=new o.Text(this.rawText,{fontFamily:this.fontFamily,fontSize:this.fontSize,fill:this.fontColor,align:f[this.justification]}),this.justification===h?this.text.anchor.x=0:this.justification===u?this.text.anchor.x=1:this.justification===c&&(this.text.anchor.x=.5);var r=this.baseLineHeight-this.fontSize;this.text.y-=this.text.height-r,this.addChild(this.text)}},e}(s.Element);e.default=l},function(t,e,r){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(2)),a=function(){function t(t,e,r){if(this.id=e.id,this.layers=e.layers||[],!e.isDisused){if(e.texture)this.texture=e.texture;else if(e.imagePath)this.imagePath=e.imagePath,t.imagePathProxy&&(this.imagePath=t.imagePathProxy(e.imagePath));else if(e.p){var i=e.u.split("/").filter(function(t){return""!==t}),n=[r].concat(i,[e.p]).join("/");t.imagePathProxy&&(n=t.imagePathProxy(n)),this.imagePath=n}e.bmPIXI&&(this.blendMode=e.bmPIXI)}}return t.prototype.createLayers=function(){return this.layers.map(function(t){return n.ElementFactory.create(t)}).filter(function(t){return null!==t})},t.prototype.createLayerByIndex=function(t){var e=this.layers.filter(function(e){return e.ind===t});return 0===e.length?null:n.ElementFactory.create(e[0])},t}();e.Asset=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.config=t}return t.prototype.add=function(t,e){this.config||(this.config={}),this.config[t]=e},t.prototype.intercept=function(t){var e=this;t.layers&&t.layers.forEach(function(t){e.intercept(t)});var r=this.config[t.nm]||this.config[t.p]||this.config[t.id];return r&&(r.text&&(t.text=r.text),r.rawText&&(t.rawText=r.rawText),r.image&&(t.image=r.image),r.imagePath&&(t.imagePath=r.imagePath),r.texture&&(t.texture=r.texture),r.isDisused&&(t.isDisused=r.isDisused),r.events&&(t.events=r.events),r.inPoint&&(t.ip=r.inPoint),r.outPoint&&(t.op=r.outPoint),r.blendMode&&(t.bmPIXI=r.blendMode)),t},t}();e.AEDataInterceptor=i}]);
//# sourceMappingURL=pixi-ae.js.map